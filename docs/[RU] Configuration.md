# Настройка

Все конфигурационные файлы расположены в `/addons/sourcemod/configs/scp/*имя_карты*`  
За исключение файла загрузки пользовательского контента `downloads.txt`. Он находиться `/addons/sourcemod/configs/`  

Для каждой карты необходима своя папка с конфигурационными файлами.  

## [Classes.json](https://github.com/GeTtOo/SCP-Breach-CSGO/blob/main/addons/sourcemod/configs/scp/scp_site101/classes.json)

Отвечает за настройку классов игроков. Делится на 3 группы (MOG, Chaos, SCP).

### Параметры
```c
"Percent": 40 – процентное соотношение игроков в командах (ВНИМАНИЕ общая доля должна равняться 100!).
"Priority": true – устанавливает класс приоритетным. 

К примеру: при малом количестве игроков Вам необходимо наличие хотя бы одного SCP. 
При значение данного параметра "true", SCP будет обязан появиться.
```

**Classes** – в этой секции описываются саб классы команды по следующему принципу:

```c
"Имя класса": {
  "pos": [1.0, 1.0, 1.0] – точка появления игроков на карте 
  "percent": 50 – процентное соотношение данного класса в команде при появление (ВНИМАНИЕ общая доля должна равняться 100!) 
  "priority": true – что-то тут да 
  "escape": true – может ли данный класс эвакуироваться или сбежать 
  "cae": "Commander" – класс, который получит игрок после побега или эвакуации 
  "health": 100 – количество hp 
  "armor": 100 – количество брони 
  "speed": 260 – скорость игрока 
  "multipler": 1.0 – множитель базовой скорости 
  "items": ["card_o", "card_en"] – предметы, которые будут у игрока (карты доступа и т.д.). Описываются в файле entities.json (его настройка будет ниже)
  "weapons": ["weapon_m4a1_silencer", "weapon_usp_silencer", ["weapon_healthshot", 2], "weapon_tagrenade"] – оружие которое будет у игрока
  "doors": [447] – ID двери, которая будет открыта при появление 
  "comment": "test" – секция для заметок
}
```

Не все параметры обязательны к настройке. Если параметр не указан ему будет присвоено стандартное значение (к примеру health будет равна 100) или он будет проигнорирован (в случае с дверьми, которые необходимы в основном классу SCP).

## [config.json](https://github.com/GeTtOo/SCP-Breach-CSGO/blob/main/addons/sourcemod/configs/scp/scp_site101/config.json)

В данное файле происходит настройка основных параметров мода  

### Параметры:

```c
"ff": true – разрешает огонь по своим 
"debug": false – настройка вывода информации для разработчиков (ВНИМАНИЕ если Вы не понимаете что это НЕ ТРОГАЙТЕ)
"DefaultGlobalClass": "Chaos" – команда игрока по умолчанию 
"DefaultClass": "D Class" – класс игрока по умолчанию (должен находиться в секции команды)
"invsize": 5 – максимальный размер инвентаря игрока  
"NukeTime": 110.0 – время с момента активации до взрыва боеголовки уничтожающий комплекс)
"NukeKillPos": 400.0 – координата высоты ниже который все игроки будут убиты при взрыве боеголовки
"NukeSound": "*/scp/warhead_announcement.mp3" – аудиофайл, который будет воспроизведен при активации боеголовки
"NukeButtonID": 356023 – ID кнопки на карте, которая активирует боеголовки 
"AdminRoom": [-4890,-6340,0] – координаты комнаты администратора (игрок будет телепортирован при «проведение беседы»)
```


## [doors.json](https://github.com/GeTtOo/SCP-Breach-CSGO/blob/main/addons/sourcemod/configs/scp/scp_site101/doors.json)

В данном файле настраиваются двери и доступ к ним  

### Параметры:

```c
"ID двери": {
	"location": "Main Gate" – название, что бы Вы не запутались в этой каше ID’шников (в моде не используется)
	"access": 0 – уровень доступа от 0 (разрешено для всех) до 5 (необходима карта О5)
	"scp": false – могут ли SCP открыть дверь
}
```

## [entities.json](https://github.com/GeTtOo/SCP-Breach-CSGO/blob/main/addons/sourcemod/configs/scp/scp_site101/entities.json)

Файл для настроек своих предметов (entity). Крайне не рекомендуем любые модификации данного файла (особенное если Вы не понимаете что, как и почему)  

```c
"Имя предмета": {
  "name": "Карта пропуска О5" – имя предмета, которое будет отображено игрокам
  "model": "models/props/sl_physics/keycard5.mdl" – модель предмета
  "mass": "5.0" – масса предмета
  "spawnflags": 4356 – флаги предмета. [Подробнее](https://developer.valvesoftware.com/wiki/Prop_physics#Flags)
  "access": 5 – доступ, которые даёт предмет
}
```

## [regions.json](https://github.com/GeTtOo/SCP-Breach-CSGO/blob/main/addons/sourcemod/configs/scp/scp_site101/regions.json)

Настройка собственных зон (указателей на карте)  

```c
"radius": 800 – радиус зоны 
"pos": [3250,-2222,100] – координаты зоны
"name": "SCP-914" – отображаемое игрокам имя зоны 
```

## [spawn_map.json](https://github.com/GeTtOo/SCP-Breach-CSGO/blob/main/addons/sourcemod/configs/scp/scp_site101/spawn_map.json)

В данном файле осуществляется настройка появления предметов на карте  

```c
"Имя предмента" – оружие (к примеру weapon_deagle) или предмет (к примеру card_o5)
{
  "chance": 100 – шанс появления (от 1 до 100)
  "pos": [578, -3444, 43] – позиция появления
}
```

## [914.json](https://github.com/GeTtOo/SCP-Breach-CSGO/blob/main/addons/sourcemod/configs/scp/scp_site101/914.json)

В случае отключения модуля 914, данный конфигурационный файл не используется.
Файл настройки SCP 914. ВНИМАНИЕ НЕ ТРОГАТЬ, ОНО ВАС СОЖРЁТ! 

### Общие настройки  

```c
"usemathcounter": true – выбор режима (работает по countername, либо switchbutton)
"countername": "scp_914_logic_counter" – имя counter'a
"switchbutton": 443873 – ID кнопки переключения качества
"runbutton": 516151 – ID кнопки запуска машины
"runtime": 8 – время перед телепортацией в другую секцию при нажатии кнопки runbutton
"searchzone": [[3630, -2072, 20], [3762, -1947, 90]] – два вектора из которых строиться куб поиска предметов (сначала нижняя точка, затем верхняя)
"distance": [0, 425, 0] – вектор смещения относительно первой камеры (если проще – куда телепортирует игрока после «звонка»)
"decsription" - ༼ つ ◕_◕ ༽つ (просто текст, не используется)
```

### Настройка рецептов  

```c
"rough", "coarse", "one_by_one", "fine", "very_fine" – параметр качества установленный на 914
{
  "имя предмета" – оружие (к примеру weapon_deagle) или предмет (к примеру card_o5)
  "card_o5"
  [
    ["имя получаемого предмета", [Шанс уничтожения предмета от 0 до 100], [Шанс успешного улучшения предмета от 0 до 100]]
    ["weapon_m4a1_silencer", 0, 100]
  ]
  "player" – если необходимо провести манипуляции с игроком
  [
    ["Эффект, накладываемый на игрока (regeneration, speed, berserk, death)", Процент успешного «улучшения» от 0 до 100]
    ["Speed", 50]
  ]
}
```

Если у предмета указана несколько вариантов развития, то будет выбрано одно из них случайным образом. К примеру:

```json
"weapon_usp_silencer": [
  ["weapon_deagle", 30, 70],
  ["weapon_awp", 40, 90]
]
```
